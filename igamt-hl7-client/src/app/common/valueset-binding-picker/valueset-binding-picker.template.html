<p-dialog [(visible)]="_visible" modal="modal" [responsive]="true" [resizable]="false" [draggable]="false" appendTo="body">
    <p-header>
        Value Set Picker
    </p-header>
    <strong>Pick Value Set Bindings for {{elm}}</strong>
    <div class="g-row">
      <p-table #tt styleClass="ui-g-6" [(selection)]="selectedTables" selectionMode="multiple" (onRowSelect)="selectRow($event)"  [value]="tables" [scrollable]="true" scrollHeight="200px" [globalFilterFields]="['name','description']" >
        <ng-template pTemplate="caption">
          <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
          <input type="text" pInputText placeholder="Search" (input)="tt.filterGlobal($event.target.value, 'contains')"  style="width: 70%;">
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th pResizableColumn width="250px">
              Binding Identifier
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-vs>
          <tr [pSelectableRow]="vs">
            <td class="ui-resizable-column" width="250px">
              <span class="badge" [ngClass]="{'label-HL7' : getScopeLabel(vs)==='HL7', 'label-USE': getScopeLabel(vs)==='USR','label-MASTER':getScopeLabel(vs)==='MAS','label-PRL':getScopeLabel(vs)==='PRL','label-PVS':getScopeLabel(vs)==='PVS'}">{{getScopeLabel(vs)}} {{hasSameVersion(vs)}}</span> {{vs.bindingIdentifier}} {{vs.name}}
            </td>
          </tr>
        </ng-template>
      </p-table>
      <p-table #tt styleClass="ui-g-6"  [value]="selectedTables" [scrollable]="true" scrollHeight="200px" [globalFilterFields]="['name','description']" >
        <ng-template pTemplate="caption">
          <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
          <input type="text" pInputText placeholder="Search" (input)="tt.filterGlobal($event.target.value, 'contains')" style="width: 70%;">
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th pResizableColumn width="250px">
              Binding Identifier
            </th>
            <th pResizableColumn width="250px">
              Binding Strength
            </th>
            <th pResizableColumn width="250px">
              Binding Location
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-vs>
          <tr [pSelectableRow]="vs">
            <td class="ui-resizable-column" width="250px">
              <span class="badge" [ngClass]="{'label-HL7' : getScopeLabel(vs)==='HL7', 'label-USE': getScopeLabel(vs)==='USR','label-MASTER':getScopeLabel(vs)==='MAS','label-PRL':getScopeLabel(vs)==='PRL','label-PVS':getScopeLabel(vs)==='PVS'}">{{getScopeLabel(vs)}} {{hasSameVersion(vs)}}</span> {{vs.bindingIdentifier}} {{vs.name}}
            </td>
            <td class="ui-resizable-column" width="250px">
              <p-dropdown [options]="bindingStrength" [(ngModel)]="vs.bindingStrength" placeholder="Binding Strength" [style]="{'width' : '100%', 'overflow' : 'visible'}" [appendTo]="'body'"></p-dropdown>
            </td>
            <td class="ui-resizable-column" width="250px">
              <p-dropdown *ngIf="coded || varies" [options]="bindingLocation" [(ngModel)]="vs.bindingLocation" placeholder="Binding Location" [style]="{'width' : '100%', 'overflow' : 'visible'}" [appendTo]="'body'"></p-dropdown>
              <input *ngIf="!coded && complex && !varies" [(ngModel)]="vs.bindingLocation" placeholder="Binding Location" style="width : 100%; overflow : visible;" type="number" min="1">
              <strong *ngIf="!coded && !complex && !varies">.</strong>
            </td>
          </tr>
        </ng-template>
      </p-table>

        <!--<p-dataTable  [globalFilter]="gb" [(selection)]="selectedTables" (onRowSelect)="selectRow($event)" dataKey="bindingIdentifier" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" >-->
            <!--<p-header>-->
                <!--<div class="ui-inputgroup" style="width: 100%;">-->
                    <!--<span class="ui-inputgroup-addon"><i class="fa fa-search"></i></span>-->
                    <!--<input #gb type="text" pInputText size="50" placeholder="Filter" style="width: 100%;">-->
                <!--</div>-->
            <!--</p-header>-->
            <!--<p-column [style]="{'width':'38px'}" selectionMode="multiple"></p-column>-->
            <!--<p-column header="Binding Identifier" field="bindingIdentifier">-->
                <!--<ng-template pTemplate="body" let-vs="rowData">-->
                    <!--<span class="badge" [ngClass]="{'label-HL7' : getScopeLabel(vs)==='HL7', 'label-USE': getScopeLabel(vs)==='USR','label-MASTER':getScopeLabel(vs)==='MAS','label-PRL':getScopeLabel(vs)==='PRL','label-PVS':getScopeLabel(vs)==='PVS'}">{{getScopeLabel(vs)}} {{hasSameVersion(vs)}}</span> {{vs.bindingIdentifier}}-->
                <!--</ng-template>-->
            <!--</p-column>-->
            <!--<p-column header="Name" field="name"></p-column>-->
        <!--</p-dataTable>-->
        <!--<p-dataList [value]="selectedTables" styleClass="ui-g-6" emptyMessage="No Value Set Selected">-->
            <!--<p-header>Selected Tables</p-header>-->
            <!--<ng-template let-vs pTemplate="item">-->
                <!--<div class="ui-g ui-g-nopad">-->
                    <!--<span class="ui-g-4">-->
                        <!--<span class="badge" [ngClass]="{'label-HL7' : getScopeLabel(vs)==='HL7', 'label-USE': getScopeLabel(vs)==='USR','label-MASTER':getScopeLabel(vs)==='MAS','label-PRL':getScopeLabel(vs)==='PRL','label-PVS':getScopeLabel(vs)==='PVS'}">{{getScopeLabel(vs)}} {{hasSameVersion(vs)}}</span> {{vs.bindingIdentifier}} {{vs.name}}-->
                    <!--</span>-->
                <!--</div>-->
            <!--</ng-template>-->
        <!--</p-dataList>-->
    </div>
    <p-footer>
      <button type="button" class="btn btn-success" (click)="select()"> Select </button>
    </p-footer>
</p-dialog>
