<div [ngModelGroup]="groupName">
    <div class="ui-g ui-fluid">
        <div class="ui-g-12 ui-md-2">
            <label>Simple Assertion Type: </label>
        </div>
        <div class="ui-g-12 ui-md-10">
            <p-dropdown id="simpleAssertionType" name="simpleAssertionType" required #simpleAssertionType="ngModel" [options]="simpleAssertionTypes" [(ngModel)]="constraint.complement.complementKey" placeholder="Select a type" [group]="true"></p-dropdown>
            <div *ngIf="simpleAssertionType.invalid && (simpleAssertionType.dirty || simpleAssertionType.touched)" class="alert alert-danger">
                <div *ngIf="simpleAssertionType.errors.required">
                    SimpleAssertion Type is required.
                </div>
            </div>
        </div>
    </div>


    <div *ngIf="constraint.complement.complementKey">
        <div *ngIf="constraint.complement.complementKey === 'SAMEVALUE'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}} <i class="fa fa-pencil" (click)="openPathSelector(constraint.subject)"></i>
                    </div>
                    <div class="ui-g-12 ui-md-2">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        contain the constant value '<input id="value" name="value" required #value="ngModel" [(ngModel)]="constraint.complement.value" type="text" style="width:100px;"/>'  <p-checkbox id="casesensitive" name="casesensitive" [(ngModel)]="constraint.complement.casesensitive" binary="true"></p-checkbox> Case Sensitive
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="constraint.complement.complementKey === 'LISTVALUE'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}}
                    </div>
                    <div class="ui-g-12 ui-md-2">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        be one of list values: <span *ngFor="let listValueEntry of constraint.complement.values; let idx = index">'<input id="listValue_{{idx}}" name="listValue_{{idx}}" required [(ngModel)]="constraint.complement.values[idx]" type="text" style="width:100px;border-width:0px 0px 1px 0px"/>'</span> <button pButton type="button"  class="blue-btn" icon="fa-plus" (click)="addValue()"></button>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="constraint.complement.complementKey === 'COMPARENODE'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}}
                    </div>
                    <div class="ui-g-12 ui-md-2">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        <p-dropdown id="operator" name="operator" required #operator="ngModel" [options]="operators" [(ngModel)]="constraint.complement.operator" placeholder="Select an operator"></p-dropdown> {{constraint.complement.path}}
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="constraint.complement.complementKey === 'COMPAREVALUE'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}}
                    </div>
                    <div class="ui-g-12 ui-md-2">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        <p-dropdown id="operator" name="operator" required #operator="ngModel" [options]="operators" [(ngModel)]="constraint.complement.operator" placeholder="Select an operator"></p-dropdown> <input id="value" name="value" required #value="ngModel" [(ngModel)]="constraint.complement.value" type="text" style="width:100px;border-width:0px 0px 1px 0px"/>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="constraint.complement.complementKey === 'FORMATTED'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}}
                    </div>
                    <div class="ui-g-12 ui-md-2">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        <p-dropdown id="formatType" name="formatType" required #formatType="ngModel" [options]="formatTypes" [(ngModel)]="constraint.complement.type" placeholder="Select a format type"></p-dropdown>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="constraint.complement.complementKey === 'PRESENCE'">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12 ui-md-2">
                    <label>Assertion: </label>
                </div>
                <div class="ui-g-12 ui-md-10">
                    <div class="ui-g-12 ui-md-4">
                        The content of {{constraint.subject.path}}
                    </div>
                    <div class="ui-g-12 ui-md-6">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown>
                    </div>
                    <div class="ui-g-12 ui-md-4">
                        <p-dropdown id="verb" name="verb" required #verb="ngModel" [options]="verbs" [(ngModel)]="constraint.verbKey" placeholder="Select a verb"></p-dropdown> be presence
                    </div>
                </div>
            </div>
        </div>
    </div>


    <p-fieldset legend="Advanced Fields" [toggleable]="true" collapsed="true" (onAfterToggle)="generateAssertionScript(constraint)">
        <div class="ui-g ui-fluid">
            <!--<div class="ui-g-12 ui-md-2">-->
                <!--<label for="assertionScript">Path Information: </label>-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-5">-->
                <!--<input name="path1" id="path1" pInputText type="text" #path1="ngModel" class="ui-g-12" disabled [(ngModel)]="constraint.path1" />-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-5">-->
                <!--<input name="positionPath1" id="positionPath1" pInputText type="text" #positionPath1="ngModel" class="ui-g-12" disabled [(ngModel)]="constraint.positionPath1" />-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-2">-->
                <!--<label for="assertionScript">Assertion Script (Auto Generated): </label>-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-10">-->
                <!--<textarea id="assertionScript" name="assertionScript" class="form-control" disabled [(ngModel)]="constraint.assertionScript" pInputTextarea [(ngModel)]="property"></textarea>-->
            <!--</div>-->
        </div>
    </p-fieldset>

</div>

<p-dialog header="Select Node" [(visible)]="displayPicker" [modal]="true" [responsive]="true" [width]="600" [minWidth]="200" [minY]="70">
    <p-tree [value]="treeModel" (onNodeExpand)="loadNode($event.node)">
        <ng-template let-node  pTemplate="default">
            <div (click)="selectNode(node)">
                <display-badge [type]="node.data.type"></display-badge>{{node.label}}
            </div>
        </ng-template>
    </p-tree>
</p-dialog>