<nav class="navbar toolbar fixed-top">
  <div style="position: relative;">
    <img height="45px" src="../../../../../assets/nist_logo.png">
    <a class="navbar-brand toolbar-name"> Implementation Guide Authoring and Management Tool
      <span class="toolname-abbrv">(IGAMT-2) v2.10.2</span>
    </a>
  </div>
  <nav class="nav-links-bar navbar navbar-expand-sm fixed-top">
    <ul class="navbar-nav">
      <li class="nav-item" routerLink="home" routerLinkActive="active">
        <a class="nav-link">Home</a>
      </li>
      <li [ngClass]="{'active': isIG | async }" class="nav-item" ngbDropdown>
        <span class="nav-link" ngbDropdownToggle>IG Documents</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/ig/create']" ngbDropdownItem routerLinkActive="active-dropdown">
            Create new IG document
          </button>
          <button [queryParams]="{ type : 'USER' }" [routerLink]="[ '/ig/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            User's IG Documents
          </button>
          <button [queryParams]="{ type : 'PUBLISHED' }" [routerLink]="[ '/ig/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            Published IG Documents
          </button>
          <button *ngIf="isAdmin | async" [queryParams]="{ type : 'ALL' }" [routerLink]="[ '/ig/list']"
                  ngbDropdownItem routerLinkActive="active-dropdown">
            All IG Documents
          </button>
        </div>
      </li>
      <li [ngClass]="{'active': isDtLib | async }" class="nav-item" ngbDropdown>
        <span class="nav-link" ngbDropdownToggle>Data Type Libraries</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/datatype-library/create']" ngbDropdownItem routerLinkActive="active-dropdown">
            Create Data Types Library
          </button>
          <button [queryParams]="{ type : 'USER' }" [routerLink]="[ '/datatype-library/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            User's Data Types Libraries
          </button>
          <button [queryParams]="{ type : 'PUBLISHED' }" [routerLink]="[ '/datatype-library/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            Standard Data Types Libraries
          </button>
          <button *ngIf="isAdmin | async" [queryParams]="{ type : 'ALL' }" [routerLink]="[ '/datatype-library/evolution']"
                  ngbDropdownItem routerLinkActive="active-dropdown">
            Data Types Evolution
          </button>
        </div>
      </li>

      <li class="nav-item" [routerLink]="[ '/structure-editor']" routerLinkActive="active">
        <a class="nav-link">
          Custom Structure
        </a>
      </li>

      <li [ngClass]="{'active': isWorkspace | async }" class="nav-item" ngbDropdown>
        <span class="nav-link" ngbDropdownToggle>Workspaces</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/workspace/create']" ngbDropdownItem routerLinkActive="active-dropdown">
            Create new Workspace
          </button>
          <button [routerLink]="[ '/workspace/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            Workspace List
          </button>
        </div>
      </li>

      <li [ngClass]="{'active': isCodeSet | async }" class="nav-item" ngbDropdown>
        <span class="nav-link" ngbDropdownToggle>Code Sets</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/code-set/create']" ngbDropdownItem routerLinkActive="active-dropdown">
            Create new Code Set
          </button>
          <button [routerLink]="[ '/code-set/list']" ngbDropdownItem
                  routerLinkActive="active-dropdown">
            Code Set List
          </button>
        </div>
      </li>



      <li [ngClass]="{'active': isConfig | async }" class="nav-item" ngbDropdown>
        <span class="nav-link" ngbDropdownToggle>Configuration</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/export-configuration']" [queryParams]="{type: 'IGDOCUMENT'}" ngbDropdownItem routerLinkActive="active-dropdown">
            Export Configuration
          </button>
        </div>
      </li>

      <li class="nav-item" [routerLink]="[ '/documentation']" routerLinkActive="active">
        <a class="nav-link">
          Documentation
        </a>
      </li>

    </ul>
    <ul *ngIf="!(isLoggedIn | async)" class="navbar-nav">
      <li class="nav-item" routerLink="login" routerLinkActive="active">
        <a class="nav-link">Login</a>
      </li>
      <li class="nav-item" routerLink="register" routerLinkActive="active">
        <a class="nav-link">Register</a>
      </li>
    </ul>
    <ul *ngIf="(isLoggedIn | async) && (username | async)" class="navbar-nav username-label">
      <li [ngClass]="{'active': isConfig | async }" class="nav-item" ngbDropdown placement="left">
        <span class="nav-link" ngbDropdownToggle><i class="fa fa-user"></i> {{username | async}}</span>
        <div ngbDropdownMenu>
          <button [routerLink]="[ '/user-profile']" ngbDropdownItem routerLinkActive="active-dropdown">
            <span><i class="fa fa-user"></i> My Profile </span>
          </button>
          <button [routerLink]="['/keys']" ngbDropdownItem routerLinkActive="active-dropdown">
            <span><i class="fa fa-key"></i> API Key </span>
          </button>
          <button  *ngIf="isAdmin | async" [routerLink]="[ '/user-management']" ngbDropdownItem routerLinkActive="active-dropdown">
            <span><i class="fa fa-cog"></i> Management Users </span>
          </button>
          <button (click)="logout()"  ngbDropdownItem routerLinkActive="active-dropdown">
            <span><i class="nav-link" class="fa fa-sign-out"></i> Logout</span>
          </button>
        </div>
      </li>
    </ul>
  </nav>
</nav>
<div *ngIf="isLoading | async" class="nav-progress-bar fixed-top">
  <mat-progress-bar class="igamt-progress" mode="indeterminate"></mat-progress-bar>
</div>
