<div  style="background-color: white; padding: 50px">
  <div class="page-content">

    <table class="table table-bordered table-stripped">
    <tbody>
      <tr>
        <td style="background-color: #f4f4f4;"> <strong> Data Type Evolution Based on: </strong>  </td>

        <td>
          Number of Components
        </td>
        <td>
          Component Usage
        </td>
        <td>
          Component Data Type
        </td>
      </tr>
    </tbody>

    </table>

<div *ngIf="matrix" class="card ui-g-6">
  <p-table  #dt [value]="matrix"  [globalFilterFields]="['#']" [scrollable]="true" scrollHeight="600px" >
    <ng-template pTemplate="caption">
      <div style="text-align: right; width: 100%">
        <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
        <input type="text" pInputText  placeholder="Search Data type" (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:95%">
      </div>
    </ng-template>
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of headers">
          {{col}}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        <td *ngFor="let col of headers"  (click)="compareOrSelect(rowData[headers[0]],col)" [ngClass]="{'firstVersion': col == firstVersion&& rowData[headers[0]]==selectedName,'secondVersion' :col==secondVersion&&rowData[headers[0]]==selectedName}" style="cursor: pointer">
          <span [ngStyle]="getStyle(rowData[col])">{{rowData[col]}}</span>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<div class="card ui-g-6 ">

  <div class="comparing-info">
  <table class="table table-bordered">
    <tbody>
    <tr>
        <td rowspan="2" >

        {{selectedName? " Comparing Data Types": "No Data type selected" }}
        </td>
        <td *ngIf="firstVersion" >
          <span class=" badge firstVersion"> {{selectedName}} {{firstVersion}} </span>
        </td>
     </tr>
    <tr *ngIf="secondVersion">
      <td>
        <span class="badge secondVersion"> {{selectedName}} {{secondVersion}} </span>
      </td>
    </tr>
    </tbody>
    </table>
  </div>

  <p-treeTable [value]="tableValue" [scrollable]="true" scrollHeight="600px" *ngIf="tableValue">
    <ng-template pTemplate="header">
      <tr>
        <th>
          Position
        </th>
        <th>
         Component Presence
        </th>
        <th *ngFor="let col of criterias">
          {{col.label}}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns">
      <tr>
        <td>
          {{rowData.position}}
          <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
        </td>
      <td>
        <table *ngIf="rowData.data['PRESENCE']">
          <tbody>
          <tr class="firstVersion">
            {{rowData.data['PRESENCE']["left"]}}
          </tr>
          <tr class="secondVersion">
            {{rowData.data['PRESENCE']["right"]}}
          </tr>
          </tbody>
        </table>
        </td>
        <td *ngFor="let col of criterias">
          <span *ngIf="rowData.data[col.value]">
            <table>
              <tbody>
              <tr class="firstVersion">
                       {{rowData.data[col.value]["left"]}}
              </tr>
              <tr class="secondVersion">
                 {{rowData.data[col.value]["right"]}}
              </tr>
              </tbody>
            </table>
          </span>
        </td>
      </tr>
    </ng-template>
  </p-treeTable>
</div>
  </div>
</div>
